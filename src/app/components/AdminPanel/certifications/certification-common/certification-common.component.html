<!-- EMPTY STATE -->
@if (items()().length === 0) {
  <div class="text-center py-4">
    <i class="bi bi-list-check fs-2 text-secondary"></i>
    <p class="text-muted mt-2">
      No {{ entityName() }} found yet.
    </p>
    <span class="fw-semibold cursor-pointer" (click)="openCreate()">
      + Add {{ entityName() }}
    </span>
  </div>
}

<!-- LIST OF ITEMS -->
@if (items()().length > 0) {
  <div class="row g-3">
    @for (item of items()(); let i = $index ;  track item) {
      <div class="col-12">
        <ng-content
          select="[item]"
          [ngTemplateOutletContext]="{ $implicit: item, index: i }"
        ></ng-content>
      </div>
    }

    <div class="text-end mt-2 cursor-pointer" (click)="openCreate()">
      ➕ Add {{ entityName() }}
    </div>
  </div>
}

<app-generic-modal
  [isOpen]="showModal()"
  [title]="modalTitle()"
  (close)="closeModal()"
>
  <!-- Body content – no attribute needed, goes into default <ng-content> -->
  <form [formGroup]="form" (ngSubmit)="submit()">
    <!-- <div formArrayName="items">
      @for (group of formArray.controls; let i = $index; track i) {
        <div [formGroupName]="i" class="mb-2 pb-3 border-bottom">
          <ng-content select="[form]"></ng-content>
        </div>
      }
    </div> -->
    <div formArrayName="items">
  @for (group of formArray.controls; let i = $index; track i) {
    <div [formGroupName]="i" class="mb-2 pb-3 border-bottom">
      <ng-content select="[form]"></ng-content>
    </div>
  }
</div>
     <div  class="d-flex gap-2  justify-content-end">
   <app-button
            (click)="closeModal()"
            btnLabel="Close"
            [mainBtn]="false"
            [secondaryBtn]="true"
          />
          <app-button btnLabel="Save" [mainBtn]="true"
          buttonType="submit" />
  </div>
  </form>

  <!-- Footer – keep the attribute -->
  <!-- <div modal-footer class="d-flex gap-2">
   <app-button
            (click)="closeModal()"
            btnLabel="Close"
            [mainBtn]="false"
            [secondaryBtn]="true"
          />
          <app-button btnLabel="Save" [mainBtn]="true"
          buttonType="submit" />
  </div> -->
</app-generic-modal>
